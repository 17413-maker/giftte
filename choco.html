<!DOCTYPE html>
<html>
<head>
  <title>Gifté+ v9.1</title>
  <style>
    body { font-family: Arial; text-align: center; margin-top: 20px; background: #f0f0f5; }
    .container { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
    input, button { padding: 12px; margin: 8px; width: 90%; font-size: 16px; border: 1px solid #ccc; border-radius: 8px; }
    button { background: #ec4899; color: white; border: none; cursor: pointer; }
    .tabs { display: flex; margin: 15px 0; overflow-x: auto; }
    .tab { padding: 10px 15px; cursor: pointer; background: #f0f0f0; margin: 0 5px; border-radius: 8px 8px 0 0; }
    .tab.active { background: #ec4899; color: white; }
    .content { display: none; background: #f9f9f9; padding: 15px; border-radius: 0 0 8px 8px; text-align: left; }
    .content.active { display: block; }
    pre { background: #eee; padding: 10px; border-radius: 8px; overflow-x: auto; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Gifté+ v9.1</h1>
    <input id="email" placeholder="Email" value="17413@jaipuria.com"><br>
    <input id="phone" placeholder="Phone" value="+14152007986"><br>
    <input id="instagram" placeholder="Instagram (optional)" value="natgeo"><br>
    <button onclick="run()">RUN OSINT</button>

    <div class="tabs">
      <div class="tab active" data-tab="debug">DEBUG LOG</div>
      <div class="tab" data-tab="email">Email</div>
      <div class="tab" data-tab="phone">Phone</div>
      <div class="tab" data-tab="ip">IP</div>
      <div class="tab" data-tab="instagram">Instagram</div>
      <div class="tab" data-tab="truecaller">Truecaller</div>
      <div class="tab" data-tab="ghunt">GHunt Dorks</div>
      <div class="tab" data-tab="gift">Gift AI</div>
    </div>

    <div id="debug" class="content active"><pre id="debug-out">Ready...</pre></div>
    <div id="email" class="content"><pre id="email-out"></pre></div>
    <div id="phone" class="content"><pre id="phone-out"></pre></div>
    <div id="ip" class="content"><pre id="ip-out"></pre></div>
    <div id="instagram" class="content"><pre id="instagram-out"></pre></div>
    <div id="truecaller" class="content"><pre id="truecaller-out"></pre></div>
    <div id="ghunt" class="content"><pre id="ghunt-out"></pre></div>
    <div id="gift" class="content"><pre id="gift-out"></pre></div>
  </div>

  <script>
    const BACKEND = "https://giftte.onrender.com";
    async function run() {
      const email = document.getElementById("email").value;
      const phone = document.getElementById("phone").value;
      const instagram = document.getElementById("instagram").value;

      document.getElementById("debug-out").textContent = "Running...";
      try {
        const res = await fetch(`${BACKEND}/osint`, {
          method: "POST",
          headers: {"Content-Type": "application/json"},
          body: JSON.stringify({ email, phone, instagram })
        });
        const data = await res.json();

        document.getElementById("debug-out").textContent = data.debug_log.join("\n");
        document.getElementById("email-out").textContent = JSON.stringify(data.email, null, 2);
        document.getElementById("phone-out").textContent = JSON.stringify(data.phone, null, 2);
        document.getElementById("ip-out").textContent = JSON.stringify(data.ip, null, 2);
        document.getElementById("instagram-out").textContent = JSON.stringify(data.instagram, null, 2);
        document.getElementById("truecaller-out").textContent = JSON.stringify(data.truecaller, null, 2);
        document.getElementById("ghunt-out").textContent = data.ghunt_dorks.join("\n");
        document.getElementById("gift-out").textContent = `Gift: ${data.gift}\nScore: ${data.score}/100`;
      } catch (e) {
        document.getElementById("debug-out").textContent = "Error: " + e.message;
      }
    }

    // Tabs
    document.querySelectorAll(".tab").forEach(tab => {
      tab.onclick = () => {
        document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
        document.querySelectorAll(".content").forEach(c => c.classList.remove("active"));
        tab.classList.add("active");
        document.getElementById(tab.dataset.tab).classList.add("active");
      };
    });
  </script>
</body>
</html>
